---
title: v4.4.0
description: 13 Mar 2024
---

# v4.4.0

> [!WARNING]
> We strongly recommend that all [Stream Host](v4.4.0.md#stream-hosts) installations are upgraded to this version and that the feature flag 'Enable Luigi Preview', is enabled to leverage the enhanced capabilities fully.
> 
> If you upgrade to the XMPro Product Suite v4.4.0 but **continue using an older Stream Host** (v4.3.12 or earlier), **you will have a degraded experience** because the Stream Host logs will not be visible in Data Stream Designer. This applies to both Stream-specific logs and Collection Logs in general.

## Integrations

| Change Type | Name | Description |
|-------------|------|-------------|
| New | [Azure OpenAI v1.02](https://xmpro.gitbook.io/azure-openai/) | Prompt your model with real-time sensor values. |
| New | [Fixed Width File Reader v1.0](https://xmpro.gitbook.io/fixed-width-file-reader/) | Process data from fixed-width text files in your data stream. |
| New | [OPC DA Listener and Action Agent](https://xmpro.gitbook.io/opc-da) | Read and publish tag values to an OPC DA Server in your data stream. |
| Enhancement | [Azure Digital Twin Listener v1.08](https://xmpro.gitbook.io/azure-digital-twin/listener/release-notes#v1.08) | Query support added. Useful for splitting a model into submodels and joining separate queries if you've reached the DTDL limit of 300 properties. |
| Enhancement | [Azure IoT Hub Listener v3.06](https://xmpro.gitbook.io/azure-iot-hub/how-to-use/release-notes) | Support Array Values visualization in the Live View. |
| Enhancement | [Calculated Field Transformation v3.44](https://xmpro.gitbook.io/calculated-field/how-to-use/release-notes#v3.44) | Added error handling to prevent circular dependencies in expressions.<br><span style="color:red;">Do not use - compatible with Stream Host v4.4.0 and v4.4.1 only.</span> |
| Enhancement | [OPC DA Listener v1.45](https://xmpro.gitbook.io/opc-da/listener/release-notes#v1.45) | Support including the tag value's quality in your output. |
| Enhancement | [OSIsoft PI Connector v1.13](https://xmpro.gitbook.io/osisoft-pi-connector/how-to-use/release-notes) | Added rounding support and error handling when no results are returned. |
| Enhancement | [Salesforce Context Provider v3.00](https://xmpro.gitbook.io/salesforce/context-provider/release-notes#v3.00) | Added support for filtering on dates, escape characters, result count, and selecting which columns to return. |
| Enhancement | [Row Count Transformation v1.12](https://xmpro.gitbook.io/row-count/how-to-use/release-notes#v1.12) | Added group and sort of data and assign distinct row numbers to each group. |
| Enhancement | [XML File Reader Action Agent v1.18](https://xmpro.gitbook.io/xml-file-reader/how-to-use/release-notes#v1.18) | Added support to batch process multiple files. |

## Common

| Change Type | Description |
|-------------|-------------|
| Enhancement | We've listened to your feedback and made several usability enhancements to file keys and dashboard tags:<ul><li>Introduced an eye on all [import and export](../how-tos/import-export-and-clone.md) functions: if you click on the file key eye, what you have typed will show up to enable you to check the typing of your file key.</li><li>Improved how multiple tags are shown on a card: the ellipsis was replaced with a horizontal scrollbar and the white space was reduced.</li><li>Global search: tags were added as an option and can be searched too.</li><li>Category Filter: your tag selection is persisted as you open and close Apps and Data Streams, so that you don't need to reapply your filter</li></ul> |
| Enhancement | Various application upgrades:<ul><li>Upgrade XMPro Notebook, Application Designer, Data Stream Designer, and Stream Hosts to .NET 8.</li><li>Enable http2 on Azure ARM deployments</li><li>Upgrade SignalR packages to latest compatible versions</li></ul> |
| Fix | *WebSocket connection errors in some Apps in some environments.*<br>Intermittent SignalR connection failures due to long query strings or incompatible client/server versions were resolved. |
| Fix | *Selecting the Network Service account during an On-Premise installation causes app files to fail and the inability to write logs to the Application Directory.*<br>The On-Premise installation documentation now advises to select "Local System" when opting for a built-in [security account](../installation/deployment/on-premise.md#security-account). |

## XMPro AI and Notebook

| Change Type | Description |
|-------------|-------------|
| Feature | XMPro AI and Notebook are now available to deploy via an XMPro-assisted ARM template. |
| Enhancement | Upgrade the XMPro Notebook's default Python [library](../concepts/xmpro-ai/xmpro-notebook.md#libraries) version from 3.8 to 3.10. |

## App Designer

| Change Type | Description |
|-------------|-------------|
| Feature | The new feature, [Metablocks](../concepts/application/metablocks.md), is the first step towards plug-and-play Blocks. The first two Metablocks, Unity and Unity (Legacy), demonstrate how the modular approach improves performance. It opens up the ability to support different web technologies. |
| Feature | New Blocks added:<ul><li>[Tree Map](../blocks-toolbox/visualizations/tree-map.md) - visualize hierarchical data as well as the order of magnitude, for example, to create a quick view of high-volume situations.</li><li>[Live Feed](../blocks-toolbox/visualizations/autodesk-forge-1.md) - incorporate your IP Live Feed camera into an application alongside key statistics related to the area under surveillance.</li></ul> |
| Enhancement | As highlighted in [v4.3.8](../release-notes/archived/v4.3.8.md#app-designer), we can do better for data privacy by adding more stringent authorization controls to authenticated endpoints. In this release, access and product rights were added to the final batch of endpoints: *low-priority* recommendation, application, connector, and integration endpoints. |
| Enhancement | We've listened to your feedback and made several usability enhancements to the App Designer Canvas:<ul><li>[Block Toolbar](../concepts/application/canvas.md#block-toolbar): tooltips were added to highlight the button functions.</li><li>Block Styling: advanced options - rarely used except by advanced users - were moved to a new [Advanced Styling](../concepts/application/block-styling.md#advanced-styling) accordion to simplify your styling choices.</li><li>Block Styling: Font Style was added to [Typography](../concepts/application/block-styling.md#typography), adding support for italic and oblique text.</li><li>[Page Layers](../concepts/application/page-layers.md): added a horizontal scrollbar for when there are multiple nested layers of components on a page.</li><li>[Blocks](../concepts/application/block.md) tab: show 3 tiles per row so that it is quicker to locate a Block.</li><li>Dynamic and expression block properties: added a Full Name property to the [User Details](../concepts/application/block-properties.md#user-details) - and renamed User to Username for increased clarity.</li><li>Data Streams Connector: prefix the entity with the data source version so that you don't have to open and scroll to verify the correct version is in use.</li></ul> |
| Enhancement | These [Tree Grid](../blocks-toolbox/basic/tree-grid.md) Block navigation and selection features were added: <ul><li>'Expand All Rows By Default' property, is useful when you have a small dataset.</li><li>'Allow Multiple Select' property, as per the Data Grid.</li><li>Node run-time context menu to expand and collapse its children.</li></ul> |
| Enhancement | [ViewAppBar](../administration/subscriptions-admin/manage-user-access.md#app-designer-rights-and-roles) right, added in v4.1.0, is now included in all default App Designer roles. Global admins have the option to customize the product roles for specific implementations. |
| Enhancement | Append the underlying connector integration error to the "Unable to get integration details" error message, to allow for effective troubleshooting. For example, a 500 error may indicate an unsupported Azure Digital Twin configuration. |
| Enhancement | The option to export to Excel was added to the [Recommendation Alerts](../concepts/recommendation/recommendation-alert.md#finding-recommendation-alerts) grid. |
| Fix | *Non-Admin users encountered an error ('Unable to save notification subscription changes') when* [*subscribing to recommendation notifications*](../concepts/recommendation/notification.md#subscribe)*.*<br>Non-Admin Users can now amend their Notification Settings. |
| Fix | The category filter's checkboxes no longer overlap the text. |
| Fix | *Clicking the Site Setting* [*Report*](../how-tos/manage-site-settings.md#reports) *carats opens an empty blade.*<br>Users can click on the carat or the report name to open it. |
| Fix | *The* [*Azure Digital Twin Connector*](https://xmpro.gitbook.io/azure-digital-twin-connector/)*'s 'Query Text Area' is not maximized when the blade is maximized.*<br>For all Connectors that utilize a Script Box in their configuration, the editable area is expanded when the configuration blade is maximized. |
| Fix | *A Connector was accidentally written that included credentials in an error message, which was displayed to a standard User when they encountered the error while running an App that used the Connector.*<br>Connector error messages are available in the logs to those with appropriate access, such as administrators, and a generic error message is reported to end users. |
| Fix | Tooltips on [Button](../blocks-toolbox/actions/button.md#appearance) Blocks are now shown at runtime. |
| Fix | *Font selection is ignored on the Data and Tree Grid Blocks at runtime.*<br>Font Block Styling is applied to the Data Grid, Tree Grid, and Tree List at runtime. |

## Data Stream Designer

| Change Type | Description |
|-------------|-------------|
| Enhancement | We've listened to your feedback and made several usability enhancements to the Data Stream Designer's [Toolbox](../concepts/data-stream/#the-toolbox):<ul><li>Collapse the Toolbox when you're not using it to increase the canvas size.</li><li>The Category header remains sticky as you scroll down so that you don't lose context and access the accordion to collapse the category.</li></ul> |
| Enhancement | The [IPollingAgent](../how-tos/agents/building-agents.md#ipolling-agent) interface was changed from required to recommended with the addition of a RequiresPolling property. This gives greater flexibility as typically non-polling agents can also poll. |
| Enhancement | The [Adding an Agent](../how-tos/agents/manage-agents.md#adding-an-agent) hint was reworded for clarity to 'Max file size is 100 Mb. For a bulk upload, the limit applies to the unzipped size'. |
| Enhancement | The Agent's [TokenBox](../how-tos/agents/packaging-agents.md#settings) behavior changed from a postback per selection of an item to when the selection is complete, i.e. focus is lost on the property. This is helpful when a designer needs to select multiple items and previously would have had to wait for the blade to reload each time. |
| Fix | *Clicking the Site Setting* [*Report*](../how-tos/manage-site-settings.md#reports-1) *carats opens an empty blade.*<br>Users can click on the carat or the report name to open it. |
| Fix | *Closing a Data Stream from My Sandbox navigates back to the landing page.*<br>Closing a Data Stream navigates back to the previously selected category. |
| Fix | *My Sandbox category tile appears on the home page despite containing no data streams.*<br>The 'My Sandbox' category tile is shown either if it contains data streams or if there are no data streams in other categories. |

## Subscription Manager

| Change Type | Description |
|-------------|-------------|
| Feature | Global Administrators can display a [global notification](../how-tos/manage-site-settings.md#global-notification) across the XMPro suite for a specific period. This aids in communicating important information to users, such as planned maintenance downtime along with a hyperlink to release notes. <br>Choose a type of hint, warning, or error to set the notification icon and banner color. The banner can be dismissed for a session. |
| Fix | *An investigation into the progressive slow performance of SM revealed a correlation with an increasing number of memory handles. Notably, the number of handles consistently rises over time and only resets with a restart of the application process.* <br>The Subscription Manager memory leak issue has been addressed through optimized usage of the custom Identity Server ViewService.<br><br>If you have noticed these symptoms, monitoring of memory, handles, and page response times is essential until Subscription Manager can be upgraded to v4.4.0 to resolve the issue. |
| Fix | *The welcome email used the subject 'Welcome to XMPro'.*<br>All SM email notifications implement the template's title tag and only use 'Welcome to XMPro' if none was supplied in the template. |
| Fix | *Users were advised their password reset had expired after they had entered a new password and clicked 'Update Password'.*<br>Users are advised their reset password link has expired when the reset password page loads. |
| Fix | *The (email) SM Access Request Link redirects to App Designer if the user is already registered to App Designer.*<br>The SM access request link was suffixed with '/Home/Admin' to prevent unintended redirects. |
| Fix | *The welcome email includes incorrect login details for those who sign up using SSO. The username provided is a generated username like user_domain_com#ext#mail.company, whereas the user should use their SSO email.*<br>The welcome email for users who sign up using SSO contains the correct login details. |

## Stream Host

| Change Type | Description |
|-------------|-------------|
| Feature | Stream Host optimizations are complete, ensuring more reliable orchestration of data streams and interactions such as publish, unpublish, sync with Data Stream Designer, and handling network disconnections. <br><br>Although these improvements apply to both the rewritten core (Luigi) and the legacy core, to maximize the benefits of these optimizations, we highly recommend transitioning to the Luigi core. <br><br>The Luigi core has transitioned out of its beta phase ([v4.3.9](../release-notes/archived/v4.3.9.md#stream-hosts)) and is now the recommended Stream Host core as of this release (v4.4.0).<br><br>Additionally, the [Stream Host Logging to File](../installation/complete-installation/configure-logging-optional.md#stream-hosts) section has been updated to accommodate changes in specifying the destination for log files. |
| Enhancement | The console output is colorized and formatted for readability, as well as more detail. |
